(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n.n(r),c=n(25),o=n.n(c),i=(n(73),n(63)),h=n(16),l=n(13),d=n(18),u=n(17),b=(n.p,n(74),n(112)),j=n(113),p=n(110),m=(n(75),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Navbar",children:[Object(a.jsxs)(b.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",children:[Object(a.jsx)(b.a.Brand,{href:"#home",children:"DBS Techtrek 2020"}),Object(a.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsxs)(j.a,{className:"mr-auto",children:[Object(a.jsx)(j.a.Link,{href:"/",children:"Home"}),Object(a.jsx)(j.a.Link,{href:"/about-us",children:"Contact Us"}),Object(a.jsx)(j.a.Link,{href:"/contact-us",children:"About Us"}),Object(a.jsx)(j.a.Link,{href:"/onboarding",children:"OnBoarding"}),Object(a.jsx)(j.a.Link,{href:"/view/abc",children:"ABC"}),Object(a.jsxs)(p.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(a.jsx)(p.a.Item,{href:"#action/3.1",children:"Action"}),Object(a.jsx)(p.a.Item,{href:"#action/3.2",children:"Another action"}),Object(a.jsx)(p.a.Item,{href:"#action/3.3",children:"Something"}),Object(a.jsx)(p.a.Divider,{}),Object(a.jsx)(p.a.Item,{href:"#action/3.4",children:"Separated link"})]})]}),Object(a.jsx)(j.a.Link,{href:"/login",children:"Login"})]})]}),Object(a.jsx)("br",{})]})}}]),n}(s.a.Component)),g=n(66),O=n(8),x=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Home"})})}}]),n}(s.a.Component),v=n(11),f=n(31),S=n(36),C=n.n(S),y=n(48),k=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t;a.setState((t={},Object(v.a)(t,e.target.name,e.target.value),Object(v.a)(t,"error",""),t))},a.handleCheckBoxChange=function(e){e.target.checked?a.setState(Object(v.a)({},e.target.name,!0)):a.setState(Object(v.a)({},e.target.name,!1))},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a.state={username:"",password:"",loginStatus:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({username:localStorage.getItem("username")||"",password:localStorage.getItem("password")||""})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),C.a.post("http://expressbackend-env.eba-mmzyvbbv.us-east-1.elasticbeanstalk.com/login",{username:this.state.username,password:this.state.password}).then((function(e){return e})).catch((function(e){return e.response})).then((function(e){if("200"===e.status||200===e.status){var n=e.data,a=Object(y.a)(n),r=parseInt(a.exp)-parseInt(a.iat),s=new Date;s.setSeconds(s.getSeconds()+r/10),t.state.rememberme&&(localStorage.setItem("username",t.state.username),localStorage.setItem("password",t.state.password)),localStorage.setItem("token","Bearer "+n),localStorage.setItem("expiry",s),t.props.extendSessionPopup(),t.props.history.replace("/onboarding")}else t.setState({error:e.data})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("input",{type:"text",name:"username",placehoder:"username",onChange:this.handleChange}),Object(a.jsx)("input",{type:"password",name:"password",placehoder:"password",onChange:this.handleChange}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",name:"rememberme",onChange:this.handleCheckBoxChange})," Remember Me?"]}),Object(a.jsx)("button",{type:"submit",children:"Submit"})]}),Object(a.jsx)("div",{id:"error",style:{color:"red"},children:this.state.error})]})]})}}]),n}(s.a.Component),I=Object(O.f)(k),w=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(h.a)(this,n),(a=t.call(this,e)).handleFileChange=function(e){var t=e.target.files[0];a.setState(Object(v.a)({},e.target.name,t))},a.handleChange=function(e){var t;a.setState((t={},Object(v.a)(t,e.target.name,e.target.value),Object(v.a)(t,"error",""),t))},a.handleCustomerAgeChange=function(e){var t,n=e.target.value;isNaN(n)?console.log("not valid"):(console.log("valid"),a.setState((t={},Object(v.a)(t,e.target.name,parseInt(n)),Object(v.a)(t,"error",""),t)))},a.handleBranchCodeChange=function(e){var t,n=e.target.value;isNaN(n)?console.log("not valid"):(console.log("valid"),a.setState((t={},Object(v.a)(t,e.target.name,parseInt(n)),Object(v.a)(t,"error",""),t)))},a.handleProductTypeChange=function(e){var t=a.state.productType,n=e.target.value;if(e.target.checked)t.push(n);else{var r=t.indexOf(n);r>-1&&t.splice(r,1)}a.setState({productType:t}),console.log(t)},a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a.state={customerName:"abc",customerAge:12,serviceOfficerName:"abc",NRIC:"S9430515B",registrationTime:"12/12/2012 12:12:12",branchCode:1,image:"",productType:[],error:"",productTypes:[{id:"137",value:"Investor"},{id:"070",value:"Insurannce"},{id:"291",value:"Loans"},{id:"969",value:"Savings"},{id:"555",value:"Credit Cards"}]};var r=new Date,s=a.appendLeadingZeroes(r.getDate())+"/"+a.appendLeadingZeroes(r.getMonth()+1)+"/"+r.getFullYear()+" "+a.appendLeadingZeroes(r.getHours())+":"+a.appendLeadingZeroes(r.getMinutes())+":"+a.appendLeadingZeroes(r.getSeconds());return console.log(s),a}return Object(l.a)(n,[{key:"appendLeadingZeroes",value:function(e){return e<=9?"0"+e:e}}]),Object(l.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=new FormData;n.append("customerName",this.state.customerName),n.append("customerAge",this.state.customerAge),n.append("serviceOfficerName",this.state.serviceOfficerName),n.append("NRIC",this.state.NRIC),n.append("registrationTime",this.state.registrationTime),n.append("branchCode",this.state.branchCode),n.append("image",this.state.image),n.append("productType",this.state.productType),C.a.post("http://expressbackend-env.eba-mmzyvbbv.us-east-1.elasticbeanstalk.com/extendSession",n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e})).catch((function(e){return e.response})).then((function(e){"200"==e.status?console.log("Fuyoh!"):t.setState({error:e.data})}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Onboarding"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("input",{type:"text",name:"customerName",placehoder:"Customer Name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"number",name:"customerAge",placehoder:"Customer Age",onChange:this.handleCustomerAgeChange}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"serviceOfficerName",placehoder:"Service Officer Name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"NRIC",placehoder:"NRIC",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"registrationTime",placehoder:"RegistrationTime",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"branchCode",placehoder:"Branch Code",onChange:this.handleBranchCodeChange}),Object(a.jsx)("br",{}),Object(a.jsx)("img",{src:this.state.file}),Object(a.jsx)("input",{type:"file",name:"image",onChange:this.handleFileChange}),Object(a.jsx)("br",{}),this.state.productTypes.map((function(t){return Object(a.jsx)("li",{children:Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",value:t.id,onChange:e.handleProductTypeChange}),t.value]})},t.id)})),Object(a.jsx)("button",{type:"submit",children:"Submit"})]}),Object(a.jsx)("div",{id:"error",style:{color:"red"},children:this.state.error})]})]})}}]),n}(s.a.Component),N=Object(O.f)(w),T=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).abc=function(){a.props.history.push("/home","")},console.log(a.props.match.params.id),console.log("abc"),a}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:this.props.match.params.id}),Object(a.jsx)("button",{color:"primary",onClick:this.abc,children:"View Profile"})]})}}]),n}(s.a.Component),L=n(111),B=n(64),D=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).extend=function(){C.a.get("http://expressbackend-env.eba-mmzyvbbv.us-east-1.elasticbeanstalk.com/extendSession",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e})).catch((function(e){return e.response})).then((function(e){if("200"==e.status){var t=e.data,n=Object(y.a)(t),r=parseInt(n.exp)-parseInt(n.iat),s=new Date;s.setSeconds(s.getSeconds()+r/10),localStorage.setItem("token","Bearer "+t),localStorage.setItem("expiry",s),a.extendSessionPopup(),a.setState({show:!1})}else a.setState({error:e.data})}))},a.handleShow=function(){a.setState({show:!0})},a.handleClose=function(){a.setState({show:!1})},a.state={show:!1,error:"",remainingSecs:20},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.extendSessionPopup()}},{key:"extendSessionPopup",value:function(){var e=this;if(console.log("Extend Session Popup"),null==localStorage.getItem("expiry"));else{var t=new Date(localStorage.getItem("expiry")),n=new Date;if(t<n)localStorage.removeItem("token"),localStorage.removeItem("expiry");else{var a=t-n-2e4;console.log(a),setTimeout((function(){e.setState({show:!0}),console.log("showed"),n=new Date;var a=parseInt((t-n)/1e3),r=setInterval((function(){a<=0&&clearInterval(r),e.setState({remainingSecs:a}),a-=1}),1e3)}),a)}}}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)(L.a,{show:this.state.show,onHide:this.handleClose,children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsxs)(L.a.Title,{children:["Session Timing Out in ",this.state.remainingSecs,"s"]})}),Object(a.jsx)(L.a.Body,{children:"Would you like to extend?"}),Object(a.jsxs)(L.a.Footer,{children:[Object(a.jsx)(B.a,{variant:"secondary",onClick:this.handleClose,children:"Close"}),Object(a.jsx)(B.a,{variant:"primary",onClick:this.extend,children:"Extend"})]})]}),Object(a.jsx)(m,{}),Object(a.jsx)(g.a,{onChange:this.routeChange,children:Object(a.jsxs)(O.c,{children:[Object(a.jsx)(O.a,{exact:!0,path:"/",component:x}),Object(a.jsx)(O.a,{path:"/about-us"}),Object(a.jsx)(O.a,{path:"/contact-us"}),Object(a.jsx)(O.a,{path:"/login",component:function(t){return Object(a.jsx)(I,Object(i.a)({extendSessionPopup:e.extendSessionPopup.bind(e)},t))}}),Object(a.jsx)(O.a,{path:"/onboarding",component:N}),Object(a.jsx)(O.a,{path:"/view/:id",component:T})]})})]})}}]),n}(s.a.Component),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};n(104);o.a.render(Object(a.jsxs)(s.a.StrictMode,{children:[" ",Object(a.jsx)(D,{})," "]}),document.getElementById("root")),A()},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.acbf0702.chunk.js.map